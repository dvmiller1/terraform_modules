

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
+ create

Terraform will perform the following actions:

+ module.with-ami.aws_instance.mod[0]
id:                                        <computed>
ami:                                       "with-ami"
associate_public_ip_address:               "true"
availability_zone:                         <computed>
ebs_block_device.#:                        <computed>
ebs_optimized:                             "false"
ephemeral_block_device.#:                  <computed>
get_password_data:                         "false"
instance_state:                            <computed>
instance_type:                             "t2.small"
ipv6_address_count:                        <computed>
ipv6_addresses.#:                          <computed>
key_name:                                  "with-ami"
network_interface.#:                       <computed>
network_interface_id:                      <computed>
password_data:                             <computed>
placement_group:                           <computed>
primary_network_interface_id:              <computed>
private_dns:                               <computed>
private_ip:                                <computed>
public_dns:                                <computed>
public_ip:                                 <computed>
root_block_device.#:                       "1"
root_block_device.0.delete_on_termination: "true"
root_block_device.0.volume_id:             <computed>
root_block_device.0.volume_size:           "16"
root_block_device.0.volume_type:           "gp2"
security_groups.#:                         <computed>
source_dest_check:                         "true"
subnet_id:                                 "with-ami"
tags.%:                                    "2"
tags.Environment:                          "production"
tags.Name:                                 "with-ami01"
tenancy:                                   <computed>
volume_tags.%:                             <computed>
vpc_security_group_ids.#:                  <computed>

+ module.with-ami.aws_instance.mod[1]
id:                                        <computed>
ami:                                       "with-ami"
associate_public_ip_address:               "true"
availability_zone:                         <computed>
ebs_block_device.#:                        <computed>
ebs_optimized:                             "false"
ephemeral_block_device.#:                  <computed>
get_password_data:                         "false"
instance_state:                            <computed>
instance_type:                             "t2.small"
ipv6_address_count:                        <computed>
ipv6_addresses.#:                          <computed>
key_name:                                  "with-ami"
network_interface.#:                       <computed>
network_interface_id:                      <computed>
password_data:                             <computed>
placement_group:                           <computed>
primary_network_interface_id:              <computed>
private_dns:                               <computed>
private_ip:                                <computed>
public_dns:                                <computed>
public_ip:                                 <computed>
root_block_device.#:                       "1"
root_block_device.0.delete_on_termination: "true"
root_block_device.0.volume_id:             <computed>
root_block_device.0.volume_size:           "16"
root_block_device.0.volume_type:           "gp2"
security_groups.#:                         <computed>
source_dest_check:                         "true"
subnet_id:                                 "with-ami"
tags.%:                                    "2"
tags.Environment:                          "production"
tags.Name:                                 "with-ami02"
tenancy:                                   <computed>
volume_tags.%:                             <computed>
vpc_security_group_ids.#:                  <computed>

+ module.with-ami.aws_security_group.security_group_on_instances
id:                                        <computed>
arn:                                       <computed>
description:                               "Managed by Terraform"
egress.#:                                  "1"
egress.482069346.cidr_blocks.#:            "1"
egress.482069346.cidr_blocks.0:            "0.0.0.0/0"
egress.482069346.description:              ""
egress.482069346.from_port:                "0"
egress.482069346.ipv6_cidr_blocks.#:       "0"
egress.482069346.prefix_list_ids.#:        "0"
egress.482069346.protocol:                 "-1"
egress.482069346.security_groups.#:        "0"
egress.482069346.self:                     "false"
egress.482069346.to_port:                  "0"
ingress.#:                                 "2"
ingress.2541437006.cidr_blocks.#:          "1"
ingress.2541437006.cidr_blocks.0:          "0.0.0.0/0"
ingress.2541437006.description:            ""
ingress.2541437006.from_port:              "22"
ingress.2541437006.ipv6_cidr_blocks.#:     "0"
ingress.2541437006.protocol:               "tcp"
ingress.2541437006.security_groups.#:      "0"
ingress.2541437006.self:                   "false"
ingress.2541437006.to_port:                "22"
ingress.753360330.cidr_blocks.#:           "0"
ingress.753360330.description:             ""
ingress.753360330.from_port:               "0"
ingress.753360330.ipv6_cidr_blocks.#:      "0"
ingress.753360330.protocol:                "-1"
ingress.753360330.security_groups.#:       "0"
ingress.753360330.self:                    "true"
ingress.753360330.to_port:                 "0"
name:                                      "with-ami-ec2-instances"
owner_id:                                  <computed>
revoke_rules_on_delete:                    "false"
tags.%:                                    "1"
tags.Name:                                 "with-ami-ec2-instances"
vpc_id:                                    "vpc_abc123"

+ module.with-eip.aws_eip.mod[0]
id:                                        <computed>
allocation_id:                             <computed>
association_id:                            <computed>
domain:                                    <computed>
instance:                                  "${element(aws_instance.mod.*.id, count.index)}"
network_interface:                         <computed>
private_ip:                                <computed>
public_ip:                                 <computed>
vpc:                                       "true"

+ module.with-eip.aws_eip.mod[1]
id:                                        <computed>
allocation_id:                             <computed>
association_id:                            <computed>
domain:                                    <computed>
instance:                                  "${element(aws_instance.mod.*.id, count.index)}"
network_interface:                         <computed>
private_ip:                                <computed>
public_ip:                                 <computed>
vpc:                                       "true"

+ module.with-eip.aws_instance.mod[0]
id:                                        <computed>
ami:                                       "ami-07fc3cb791f32513e"
associate_public_ip_address:               "true"
availability_zone:                         <computed>
ebs_block_device.#:                        <computed>
ebs_optimized:                             "false"
ephemeral_block_device.#:                  <computed>
get_password_data:                         "false"
instance_state:                            <computed>
instance_type:                             "t2.small"
ipv6_address_count:                        <computed>
ipv6_addresses.#:                          <computed>
key_name:                                  "without-ami"
network_interface.#:                       <computed>
network_interface_id:                      <computed>
password_data:                             <computed>
placement_group:                           <computed>
primary_network_interface_id:              <computed>
private_dns:                               <computed>
private_ip:                                <computed>
public_dns:                                <computed>
public_ip:                                 <computed>
root_block_device.#:                       "1"
root_block_device.0.delete_on_termination: "true"
root_block_device.0.volume_id:             <computed>
root_block_device.0.volume_size:           "16"
root_block_device.0.volume_type:           "gp2"
security_groups.#:                         <computed>
source_dest_check:                         "true"
subnet_id:                                 "without-ami"
tags.%:                                    "2"
tags.Environment:                          "production"
tags.Name:                                 "without-ami01"
tenancy:                                   <computed>
volume_tags.%:                             <computed>
vpc_security_group_ids.#:                  <computed>

+ module.with-eip.aws_instance.mod[1]
id:                                        <computed>
ami:                                       "ami-07fc3cb791f32513e"
associate_public_ip_address:               "true"
availability_zone:                         <computed>
ebs_block_device.#:                        <computed>
ebs_optimized:                             "false"
ephemeral_block_device.#:                  <computed>
get_password_data:                         "false"
instance_state:                            <computed>
instance_type:                             "t2.small"
ipv6_address_count:                        <computed>
ipv6_addresses.#:                          <computed>
key_name:                                  "without-ami"
network_interface.#:                       <computed>
network_interface_id:                      <computed>
password_data:                             <computed>
placement_group:                           <computed>
primary_network_interface_id:              <computed>
private_dns:                               <computed>
private_ip:                                <computed>
public_dns:                                <computed>
public_ip:                                 <computed>
root_block_device.#:                       "1"
root_block_device.0.delete_on_termination: "true"
root_block_device.0.volume_id:             <computed>
root_block_device.0.volume_size:           "16"
root_block_device.0.volume_type:           "gp2"
security_groups.#:                         <computed>
source_dest_check:                         "true"
subnet_id:                                 "without-ami"
tags.%:                                    "2"
tags.Environment:                          "production"
tags.Name:                                 "without-ami02"
tenancy:                                   <computed>
volume_tags.%:                             <computed>
vpc_security_group_ids.#:                  <computed>

+ module.with-eip.aws_security_group.security_group_on_instances
id:                                        <computed>
arn:                                       <computed>
description:                               "Managed by Terraform"
egress.#:                                  "1"
egress.482069346.cidr_blocks.#:            "1"
egress.482069346.cidr_blocks.0:            "0.0.0.0/0"
egress.482069346.description:              ""
egress.482069346.from_port:                "0"
egress.482069346.ipv6_cidr_blocks.#:       "0"
egress.482069346.prefix_list_ids.#:        "0"
egress.482069346.protocol:                 "-1"
egress.482069346.security_groups.#:        "0"
egress.482069346.self:                     "false"
egress.482069346.to_port:                  "0"
ingress.#:                                 "2"
ingress.2541437006.cidr_blocks.#:          "1"
ingress.2541437006.cidr_blocks.0:          "0.0.0.0/0"
ingress.2541437006.description:            ""
ingress.2541437006.from_port:              "22"
ingress.2541437006.ipv6_cidr_blocks.#:     "0"
ingress.2541437006.protocol:               "tcp"
ingress.2541437006.security_groups.#:      "0"
ingress.2541437006.self:                   "false"
ingress.2541437006.to_port:                "22"
ingress.753360330.cidr_blocks.#:           "0"
ingress.753360330.description:             ""
ingress.753360330.from_port:               "0"
ingress.753360330.ipv6_cidr_blocks.#:      "0"
ingress.753360330.protocol:                "-1"
ingress.753360330.security_groups.#:       "0"
ingress.753360330.self:                    "true"
ingress.753360330.to_port:                 "0"
name:                                      "without-ami-ec2-instances"
owner_id:                                  <computed>
revoke_rules_on_delete:                    "false"
tags.%:                                    "1"
tags.Name:                                 "without-ami-ec2-instances"
vpc_id:                                    "vpc_abc123"

+ module.without-ami.aws_instance.mod[0]
id:                                        <computed>
ami:                                       "ami-07fc3cb791f32513e"
associate_public_ip_address:               "true"
availability_zone:                         <computed>
ebs_block_device.#:                        <computed>
ebs_optimized:                             "false"
ephemeral_block_device.#:                  <computed>
get_password_data:                         "false"
instance_state:                            <computed>
instance_type:                             "t2.small"
ipv6_address_count:                        <computed>
ipv6_addresses.#:                          <computed>
key_name:                                  "without-ami"
network_interface.#:                       <computed>
network_interface_id:                      <computed>
password_data:                             <computed>
placement_group:                           <computed>
primary_network_interface_id:              <computed>
private_dns:                               <computed>
private_ip:                                <computed>
public_dns:                                <computed>
public_ip:                                 <computed>
root_block_device.#:                       "1"
root_block_device.0.delete_on_termination: "true"
root_block_device.0.volume_id:             <computed>
root_block_device.0.volume_size:           "16"
root_block_device.0.volume_type:           "gp2"
security_groups.#:                         <computed>
source_dest_check:                         "true"
subnet_id:                                 "without-ami"
tags.%:                                    "2"
tags.Environment:                          "production"
tags.Name:                                 "without-ami01"
tenancy:                                   <computed>
volume_tags.%:                             <computed>
vpc_security_group_ids.#:                  <computed>

+ module.without-ami.aws_instance.mod[1]
id:                                        <computed>
ami:                                       "ami-07fc3cb791f32513e"
associate_public_ip_address:               "true"
availability_zone:                         <computed>
ebs_block_device.#:                        <computed>
ebs_optimized:                             "false"
ephemeral_block_device.#:                  <computed>
get_password_data:                         "false"
instance_state:                            <computed>
instance_type:                             "t2.small"
ipv6_address_count:                        <computed>
ipv6_addresses.#:                          <computed>
key_name:                                  "without-ami"
network_interface.#:                       <computed>
network_interface_id:                      <computed>
password_data:                             <computed>
placement_group:                           <computed>
primary_network_interface_id:              <computed>
private_dns:                               <computed>
private_ip:                                <computed>
public_dns:                                <computed>
public_ip:                                 <computed>
root_block_device.#:                       "1"
root_block_device.0.delete_on_termination: "true"
root_block_device.0.volume_id:             <computed>
root_block_device.0.volume_size:           "16"
root_block_device.0.volume_type:           "gp2"
security_groups.#:                         <computed>
source_dest_check:                         "true"
subnet_id:                                 "without-ami"
tags.%:                                    "2"
tags.Environment:                          "production"
tags.Name:                                 "without-ami02"
tenancy:                                   <computed>
volume_tags.%:                             <computed>
vpc_security_group_ids.#:                  <computed>

+ module.without-ami.aws_security_group.security_group_on_instances
id:                                        <computed>
arn:                                       <computed>
description:                               "Managed by Terraform"
egress.#:                                  "1"
egress.482069346.cidr_blocks.#:            "1"
egress.482069346.cidr_blocks.0:            "0.0.0.0/0"
egress.482069346.description:              ""
egress.482069346.from_port:                "0"
egress.482069346.ipv6_cidr_blocks.#:       "0"
egress.482069346.prefix_list_ids.#:        "0"
egress.482069346.protocol:                 "-1"
egress.482069346.security_groups.#:        "0"
egress.482069346.self:                     "false"
egress.482069346.to_port:                  "0"
ingress.#:                                 "2"
ingress.2541437006.cidr_blocks.#:          "1"
ingress.2541437006.cidr_blocks.0:          "0.0.0.0/0"
ingress.2541437006.description:            ""
ingress.2541437006.from_port:              "22"
ingress.2541437006.ipv6_cidr_blocks.#:     "0"
ingress.2541437006.protocol:               "tcp"
ingress.2541437006.security_groups.#:      "0"
ingress.2541437006.self:                   "false"
ingress.2541437006.to_port:                "22"
ingress.753360330.cidr_blocks.#:           "0"
ingress.753360330.description:             ""
ingress.753360330.from_port:               "0"
ingress.753360330.ipv6_cidr_blocks.#:      "0"
ingress.753360330.protocol:                "-1"
ingress.753360330.security_groups.#:       "0"
ingress.753360330.self:                    "true"
ingress.753360330.to_port:                 "0"
name:                                      "without-ami-ec2-instances"
owner_id:                                  <computed>
revoke_rules_on_delete:                    "false"
tags.%:                                    "1"
tags.Name:                                 "without-ami-ec2-instances"
vpc_id:                                    "vpc_abc123"
Plan: 11 to add, 0 to change, 0 to destroy.

