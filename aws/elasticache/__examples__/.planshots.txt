

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
+ create

Terraform will perform the following actions:

+ module.basic_redis.aws_elasticache_cluster.mod
id:                                           <computed>
apply_immediately:                            <computed>
availability_zone:                            <computed>
az_mode:                                      <computed>
cache_nodes.#:                                <computed>
cluster_address:                              <computed>
cluster_id:                                   "redis-production"
configuration_endpoint:                       <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
num_cache_nodes:                              "1"
parameter_group_name:                         "redis-production-params"
port:                                         "6379"
replication_group_id:                         <computed>
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"

+ module.basic_redis.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params"

+ module.basic_redis.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.basic_redis.aws_security_group.sg_for_access_by_sgs
id:                                           <computed>
description:                                  "production to redis"
egress.#:                                     <computed>
ingress.#:                                    <computed>
name:                                         "production-redis"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "production-redis"
vpc_id:                                       "redis"

+ module.basic_redis.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
description:                                  "redis to production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.~743784797.cidr_blocks.#:             "0"
ingress.~743784797.description:               ""
ingress.~743784797.from_port:                 "6379"
ingress.~743784797.ipv6_cidr_blocks.#:        "0"
ingress.~743784797.protocol:                  "tcp"
ingress.~743784797.security_groups.#:         <computed>
ingress.~743784797.self:                      "false"
ingress.~743784797.to_port:                   "6379"
name:                                         "redis-production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"

+ module.external_security_group_access.aws_elasticache_cluster.mod
id:                                           <computed>
apply_immediately:                            <computed>
availability_zone:                            <computed>
az_mode:                                      <computed>
cache_nodes.#:                                <computed>
cluster_address:                              <computed>
cluster_id:                                   "redis-production"
configuration_endpoint:                       <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
num_cache_nodes:                              "1"
parameter_group_name:                         "redis-production-params"
port:                                         "6379"
replication_group_id:                         <computed>
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"

+ module.external_security_group_access.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params"

+ module.external_security_group_access.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.external_security_group_access.aws_security_group.sg_for_access_by_sgs
id:                                           <computed>
description:                                  "production to redis"
egress.#:                                     <computed>
ingress.#:                                    <computed>
name:                                         "production-redis"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "production-redis"
vpc_id:                                       "redis"

+ module.external_security_group_access.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
description:                                  "redis to production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.~743784797.cidr_blocks.#:             "0"
ingress.~743784797.description:               ""
ingress.~743784797.from_port:                 "6379"
ingress.~743784797.ipv6_cidr_blocks.#:        "0"
ingress.~743784797.protocol:                  "tcp"
ingress.~743784797.security_groups.#:         <computed>
ingress.~743784797.self:                      "false"
ingress.~743784797.to_port:                   "6379"
name:                                         "redis-production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"

+ module.external_without_internal_sg.aws_elasticache_cluster.mod
id:                                           <computed>
apply_immediately:                            <computed>
availability_zone:                            <computed>
az_mode:                                      <computed>
cache_nodes.#:                                <computed>
cluster_address:                              <computed>
cluster_id:                                   "redis-production"
configuration_endpoint:                       <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
num_cache_nodes:                              "1"
parameter_group_name:                         "redis-production-params"
port:                                         "6379"
replication_group_id:                         <computed>
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"

+ module.external_without_internal_sg.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params"

+ module.external_without_internal_sg.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.external_without_internal_sg.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
description:                                  "redis to production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.178271469.cidr_blocks.#:              "0"
ingress.178271469.description:                ""
ingress.178271469.from_port:                  "6379"
ingress.178271469.ipv6_cidr_blocks.#:         "0"
ingress.178271469.protocol:                   "tcp"
ingress.178271469.security_groups.#:          "2"
ingress.178271469.security_groups.0:          ""
ingress.178271469.security_groups.2066075671: "redis"
ingress.178271469.self:                       "false"
ingress.178271469.to_port:                    "6379"
name:                                         "redis-production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"
Plan: 14 to add, 0 to change, 0 to destroy.

