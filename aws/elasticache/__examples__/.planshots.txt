

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
+ create

Terraform will perform the following actions:

+ module.basic_redis.aws_elasticache_cluster.mod
id:                                           <computed>
apply_immediately:                            <computed>
availability_zone:                            <computed>
az_mode:                                      <computed>
cache_nodes.#:                                <computed>
cluster_address:                              <computed>
cluster_id:                                   "redis-production"
configuration_endpoint:                       <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
num_cache_nodes:                              "1"
parameter_group_name:                         "redis-production-params28"
port:                                         "6379"
replication_group_id:                         <computed>
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"

+ module.basic_redis.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params28"

+ module.basic_redis.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.basic_redis.aws_security_group.sg_for_access_by_sgs
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis_production to redis"
egress.#:                                     <computed>
ingress.#:                                    <computed>
name:                                         "redis_production-redis"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "production-redis"
vpc_id:                                       "redis"

+ module.basic_redis.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis to redis_production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.~743784797.cidr_blocks.#:             "0"
ingress.~743784797.description:               ""
ingress.~743784797.from_port:                 "6379"
ingress.~743784797.ipv6_cidr_blocks.#:        "0"
ingress.~743784797.protocol:                  "tcp"
ingress.~743784797.security_groups.#:         <computed>
ingress.~743784797.self:                      "false"
ingress.~743784797.to_port:                   "6379"
name:                                         "redis-redis_production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"

+ module.encrypted_redis.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis3.2"
name:                                         "redis-production-params32"

+ module.encrypted_redis.aws_elasticache_replication_group.mod
id:                                           <computed>
apply_immediately:                            <computed>
at_rest_encryption_enabled:                   "true"
auto_minor_version_upgrade:                   "true"
automatic_failover_enabled:                   "false"
configuration_endpoint_address:               <computed>
engine:                                       "redis"
engine_version:                               "3.2.6"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
number_cache_clusters:                        "1"
parameter_group_name:                         "${aws_elasticache_parameter_group.mod.id}"
port:                                         "6379"
primary_endpoint_address:                     <computed>
replication_group_description:                "redis production redis instance"
replication_group_id:                         "redis-production"
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"
transit_encryption_enabled:                   "true"

+ module.encrypted_redis.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.encrypted_redis.aws_security_group.sg_for_access_by_sgs
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis_production to redis"
egress.#:                                     <computed>
ingress.#:                                    <computed>
name:                                         "redis_production-redis"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "production-redis"
vpc_id:                                       "redis"

+ module.encrypted_redis.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis to redis_production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.~743784797.cidr_blocks.#:             "0"
ingress.~743784797.description:               ""
ingress.~743784797.from_port:                 "6379"
ingress.~743784797.ipv6_cidr_blocks.#:        "0"
ingress.~743784797.protocol:                  "tcp"
ingress.~743784797.security_groups.#:         <computed>
ingress.~743784797.self:                      "false"
ingress.~743784797.to_port:                   "6379"
name:                                         "redis-redis_production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"

+ module.external_security_group_access.aws_elasticache_cluster.mod
id:                                           <computed>
apply_immediately:                            <computed>
availability_zone:                            <computed>
az_mode:                                      <computed>
cache_nodes.#:                                <computed>
cluster_address:                              <computed>
cluster_id:                                   "redis-production"
configuration_endpoint:                       <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
num_cache_nodes:                              "1"
parameter_group_name:                         "redis-production-params28"
port:                                         "6379"
replication_group_id:                         <computed>
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"

+ module.external_security_group_access.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params28"

+ module.external_security_group_access.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.external_security_group_access.aws_security_group.sg_for_access_by_sgs
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis_production to redis"
egress.#:                                     <computed>
ingress.#:                                    <computed>
name:                                         "redis_production-redis"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "production-redis"
vpc_id:                                       "redis"

+ module.external_security_group_access.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis to redis_production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.~743784797.cidr_blocks.#:             "0"
ingress.~743784797.description:               ""
ingress.~743784797.from_port:                 "6379"
ingress.~743784797.ipv6_cidr_blocks.#:        "0"
ingress.~743784797.protocol:                  "tcp"
ingress.~743784797.security_groups.#:         <computed>
ingress.~743784797.self:                      "false"
ingress.~743784797.to_port:                   "6379"
name:                                         "redis-redis_production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"

+ module.external_without_internal_sg.aws_elasticache_cluster.mod
id:                                           <computed>
apply_immediately:                            <computed>
availability_zone:                            <computed>
az_mode:                                      <computed>
cache_nodes.#:                                <computed>
cluster_address:                              <computed>
cluster_id:                                   "redis-production"
configuration_endpoint:                       <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
num_cache_nodes:                              "1"
parameter_group_name:                         "redis-production-params28"
port:                                         "6379"
replication_group_id:                         <computed>
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"

+ module.external_without_internal_sg.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params28"

+ module.external_without_internal_sg.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.external_without_internal_sg.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis to redis_production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.208812331.cidr_blocks.#:              "0"
ingress.208812331.description:                ""
ingress.208812331.from_port:                  "6379"
ingress.208812331.ipv6_cidr_blocks.#:         "0"
ingress.208812331.protocol:                   "tcp"
ingress.208812331.security_groups.#:          "1"
ingress.208812331.security_groups.2066075671: "redis"
ingress.208812331.self:                       "false"
ingress.208812331.to_port:                    "6379"
name:                                         "redis-redis_production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"

+ module.force_replication_group_redis.aws_elasticache_parameter_group.mod
id:                                           <computed>
description:                                  "redis production env redis cluster param group"
family:                                       "redis2.8"
name:                                         "redis-production-params28"

+ module.force_replication_group_redis.aws_elasticache_replication_group.mod
id:                                           <computed>
apply_immediately:                            <computed>
at_rest_encryption_enabled:                   "false"
auto_minor_version_upgrade:                   "true"
automatic_failover_enabled:                   "false"
configuration_endpoint_address:               <computed>
engine:                                       "redis"
engine_version:                               "2.8.17"
maintenance_window:                           <computed>
node_type:                                    "cache.t2.micro"
number_cache_clusters:                        "1"
parameter_group_name:                         "${aws_elasticache_parameter_group.mod.id}"
port:                                         "6379"
primary_endpoint_address:                     <computed>
replication_group_description:                "redis production redis instance"
replication_group_id:                         "redis-production"
security_group_ids.#:                         <computed>
security_group_names.#:                       <computed>
snapshot_window:                              <computed>
subnet_group_name:                            "redis-production-redis-subnet"
tags.%:                                       "2"
tags.Description:                             "redis production redis instance"
tags.Environment:                             "production"
transit_encryption_enabled:                   "false"

+ module.force_replication_group_redis.aws_elasticache_subnet_group.mod
id:                                           <computed>
description:                                  "redis-production-redis-subnet"
name:                                         "redis-production-redis-subnet"
subnet_ids.#:                                 "1"
subnet_ids.2066075671:                        "redis"

+ module.force_replication_group_redis.aws_security_group.sg_for_access_by_sgs
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis_production to redis"
egress.#:                                     <computed>
ingress.#:                                    <computed>
name:                                         "redis_production-redis"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "production-redis"
vpc_id:                                       "redis"

+ module.force_replication_group_redis.aws_security_group.sg_on_elasticache_instance
id:                                           <computed>
arn:                                          <computed>
description:                                  "redis to redis_production"
egress.#:                                     "1"
egress.482069346.cidr_blocks.#:               "1"
egress.482069346.cidr_blocks.0:               "0.0.0.0/0"
egress.482069346.description:                 ""
egress.482069346.from_port:                   "0"
egress.482069346.ipv6_cidr_blocks.#:          "0"
egress.482069346.prefix_list_ids.#:           "0"
egress.482069346.protocol:                    "-1"
egress.482069346.security_groups.#:           "0"
egress.482069346.self:                        "false"
egress.482069346.to_port:                     "0"
ingress.#:                                    "1"
ingress.~743784797.cidr_blocks.#:             "0"
ingress.~743784797.description:               ""
ingress.~743784797.from_port:                 "6379"
ingress.~743784797.ipv6_cidr_blocks.#:        "0"
ingress.~743784797.protocol:                  "tcp"
ingress.~743784797.security_groups.#:         <computed>
ingress.~743784797.self:                      "false"
ingress.~743784797.to_port:                   "6379"
name:                                         "redis-redis_production"
owner_id:                                     <computed>
revoke_rules_on_delete:                       "false"
tags.%:                                       "1"
tags.Name:                                    "redis-production"
vpc_id:                                       "redis"
Plan: 24 to add, 0 to change, 0 to destroy.

